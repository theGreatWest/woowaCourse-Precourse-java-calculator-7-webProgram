# 프로젝트명
**[ 과제 심화 활동 ]** 문자열 덧셈 계산 웹 프로그램 ( java-calculator-precourse )

!!!!! 동영상 첨부 예정 !!!!!

---

# 사용 설명서
### **◉ 문자열 입력창 / 결과 확인**

- Enter 키를 눌러 결과 확인

### **◉ 커스텀 구분자 입력**

- 조건에 맞추어 입력 →  변화 X
- 잘못 입력 → 에러 메시지

### **◉ keypad 클릭**

- inner shadow 생성
- 계산기 화면과 입력창에 입력 값 표시
- 입력값 누르고 ( += ) 클릭 : 덧셈 대기 상태
- 다음 입력값 누르고 (+=) 클릭 : 두 수의 합이 계산기 화면과 입력창에 나타남
- 계산기만 이용해 덧셈 가능 : 키패드의 숫자 클릭 후 (+=)을 누르면 결과가 화면에 나타남

### **◉ 기타 버튼 설정**

- `⬅︎` : 한 글자 지우기
- `✚=` : 덧셈 결과 확인
- 전체 지우기  : 입력한 문자열 전체 지우기

---

# 예외 처리
- 예외는 main 메서드에서 처리한다.
- 기능별 예외 처리 (IllegalArgumentException 발생)

### ❗️과제와 차이점

- //와 \n의 위치가 문자열의 중간에 있어도 예외 X: 구분자의 앞, 뒤 숫자는 별개의 숫자로 입력 처리한다.
- 구분자가 한 글자가 아니여도 숫자만 아니라면 모두 가능
- 정수가 아닌 실수도 입력 가능
### checkDelimiter

- //와 \n의 위치가 바뀐 경우 예외를 발생 시킨다.
### checkValueCorrect

- 입력받은 문자열이 정수로 변환 가능한 문자열인지 판단한다. //나 \n이 하나만 입력 되는 등 정수가 아닌 문자열이 입력된 경우 이곳에서 예외를 발생 시킨다.
- 입력은 구분자와 양수로 구성되어야 하므로, 음수가 입력된 경우 예외를 발생 시킨다.
  <br>

---
# 기능 목록
## ⚜️ 프론트엔드

### **◉ index.html. result.html**

- Thymeleaf를 사용해 결과 값을 result 파일로 보낸다.
### **◉ index_sync.js**

- input에 입력되는 값을 계산기 화면에 동기화 시킨다(실시간)
### **◉ index_keypad.js**

- 계산기 키패드가 클릭되면 inner shadow가 0.3초간 발생하고 다시 원상태로 돌아온다.
- (✚=) 가 눌리기 전에는, 들어오는 정수 값을 받으며 대기한다.
- (✚=) 가 눌리면, 이전의 값과 방금 입력된 값을 더해 input 입력 칸과 계산기 화면에 display한다.
- (︎⬅︎︎) 가 눌리면, 입려된 값이 한 글자씩 지워진다.
### **◉ index_deleteAll.js**

- (전체 지우기) 가 눌리면, 지금까지 눌렀던 결과와 합산 결과가 모두 0으로 초기화 된다.


## ⚜️ 벡엔드

## **◉ checkDelimiter**
### 정의
커스텀 구분자가 있는지 확인하고, 구분자와 분할할 문자열을 반환한다.

### 세분화

- //와 \n을 모두 포함 O <br>
    - //와 \n의 인덱스를 담은 변수 생성 <br>
    - //와 \n의 순서가 바뀐 경우 <br>
    - 아래의 문자열 배열을 반환한다.<br>
        - 배열[0] : 기본 구분자(",|:")에 커스텀 구분자를 정규식 표현으로 합친다. 이때, 구분자가 특수문자일 수 있으므로 이스케이프 문자(\\)를 커스텀 문자 앞에 붙여준다.<br>
        - 배열[1] : //과 커스텀 문자, \n을 제외한 나머지 문자열을 저장한다.
- //와 \n을 모두 포함 X <br>
    - 기본 구분자와 입력받은 문자열을 배열에 담아 반환한다.

### 작동 순서
1. 반환할 문자열 배열을 {",|:", 입력한_문자열}로 초기화한다.
2. 입력한_문자열이 "//"와 "\n"을 모두 포함 O
    1. //와 \n의 인덱스를 각각 저장한다.
    2. 예외 판단(//와 \n의 위치가 바뀐 경우)
    3. 배열[0]: 기본 구분자에 "|\\"+커스텀 문자를 더해준다.
    4. 배열[1]: //, 커스텀 문자, \n를 제외한 나머지 문자열로 바꿔준다.
3. 문자열 배열을 반환한다.

## **◉ checkValueCorrect**
### 정의
전달받은 문자열이 Integer로 변경 가능한 '양수'라면 반환, 아니라면 예외를 발생시킨다.

### 세분화

- 입력 받은 문자열을 숫자로 변환할 수 없으면 예외를 발생시킨다.
- 변환할 수 있다면 음수인지 판단한다. 음수일 경우 예외를 발생시킨다.
- 숫자로 변환 가능하고 양수일 경우, 해당 값을 반환한다.

### 작동 순서
1. 입력한 문자열을 숫자로 변환할 수 있는지 확인한다.
    1. 불가능 &rarr; 예외를 발생시킨다.
    2. 가능 &rarr; 아래의 과정을 진행한다.
2. 입력된 숫자가 양수인지 판단한다.
    1. 양수 &rarr; 값을 반환한다.
    2. 음수 &rarr; 예외를 발생시킨다.

## **◉ main**
### 정의
메인 메서드로, 사용자로부터 값을 입력받고 위에서 구현한 기능들을 이용해 값과 예외를 처리한다.

- 덧셈 결과를 저장할 변수를 0으로 초기화한다.
- 입력 받은 문자열이 공백인지 판단한다.

    - 공백 X &rarr; 아래의 기능 수행
        - checkDelimiter()를 활용해 예외가 있는지 확인한뒤, 예외가 있을 경우 예외를 발생시킨다.
        - 예외가 없을 경우 전달 받은 구분자의 정규식과 문자열을 이용해 문자를 분할한다.
        - 분할된 값들을 checkValueCorrect()를 활용해 적절한 값인지 체크한다.
        - 적절한 값인 경우에 sum 변수에 값을 더해주고, 적절한 값이 아니라면 예외를 발생시킨다.
- 결과 출력부. 덧셈 결과를 출력한다.

### 작동 순서
3. 입력 값이 공백인지 판단한다.
    1. 공백이라면, 아무런 처리 없이 sum(=0)을 출력한다.
    2. 공백이 아니라면 try-catch문으로 아래의 과정을 감싸고, 예외 처리를 고려해 작업을 수행한다.

        1. checkDelimiter를 이용해 구분자와 분할할 문자열을 배열에 저장한다.
            1. 예외 발생 O &rarr; 프로그램을 종료한다.
            2. 예외 발생 X &rarr; 문자열을 구분자를 이용해 분할한다.
        2. 분할된 값이 공백이 아니라면 checkValueCorrect를 이용해 정수로 변환한다.
            1. 예외 발생 O &rarr; 프로그램을 종료한다.
            2. 예외 발생 X &rarr; sum 변수에 정수 값을 더한다.
4. 변수 sum을 출력한다.